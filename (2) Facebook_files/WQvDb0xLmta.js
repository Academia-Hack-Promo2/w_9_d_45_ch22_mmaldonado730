/*!CK:1223368056!*//*1429309295,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["8gaD5"]); }

__d("VideoPlayerInitializationEvents",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={PLAYER_INITIALIZATION:"player_initialization",PLAYER_ALLOCATED:"player_allocated",REQUESTED_PLAYING:"requested_playing",STARTED_PLAYING:"started_playing",PLAYER_SENT_REQUEST:"player_sent",PLAYER_RECEIVED_FIRST_BYTE:"player_received_first_byte",BUFFER_READY:"buffer_ready",METADATA_READY:"metadata_ready"};},null);
__d("VideoPlayerLoggerSource",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={ADS:"ads",ANIMATED_IMAGE_SHARE:"animated_image_share",BROADCAST_REQUEST_ATTACHMENT:"broadcast_request_attachment",EMBEDDED:"embedded",EMBEDDED_VIDEO:"embedded_video",EMBEDDED_VIDEO_PREVIEW:"embedded_video_preview",HTML5:"html5",INLINE:"inline",CHAINED:"chained",CHAINED_SUGGESTION:"chained_suggestion",CHANNEL:"channel",INSIGHTS:"insights",LOOKBACK:"lookback",MEDIA_COLLAGE:"media_collage",MESSAGING:"messaging",MISC:"misc",MOBILE:"mobile",PAGES_FINCH_MAIN_VIDEO:"pages_finch_main_video",PAGES_FINCH_THUMBNAIL_VIDEO:"pages_finch_thumbnail_video",PAGES_FINCH_TRAILER:"pages_finch_trailer",PAGES_VIDEO_SET:"pages_video_set",PERMALINK:"permalink",REPORT_FLOW:"report_flow",SNOWLIFT:"snowlift",TRAILER_OG_ATTACHMENT:"trailer_og_attachment",TRAILER_TIMELINE_COLLECTIONS:"trailer_timeline_collections",TRAILER_TIMELINE_UNIT:"trailer_timeline_unit",VIDEOHUB_PLAYLIST:"videohub_playlist",VIDEOHUB_FEATURED:"videohub_featured"};},null);
__d("VideoPlayerLoggerErrorStates",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={PLAYBACK_FAILURE:'playback_failure',PLAYER_FAILURE:'player_failure'};},null);
__d("VideoPlayerLoggerFallbackReasons",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={TIMEOUT:'timeout',FLASH_ERROR:'flash_error',FLASH_UNAVAILABLE:'flash_unavailable'};},null);
__d("VideoPlayerLoggerPlayerStates",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports={STARTED:'started',UNPAUSED:'unpaused'};},null);
__d("VideoPlayerLogger",["Banzai","ErrorUtils","TimeSpentImmediateActiveSecondsLogger","VideoPlayerLoggerEvents","VideoPlayerLoggerErrors","VideoPlayerLoggerErrorStates","VideoPlayerLoggerFallbackReasons","VideoPlayerLoggerSource","VideoPlayerInitializationEvents","VideoPlayerLoggerPlayerStates","copyProperties","ex"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s='video_player';function t(u,v){"use strict";this.$VideoPlayerLogger0=u;this.$VideoPlayerLogger1=null;this.$VideoPlayerLogger2={};this.$VideoPlayerLogger3=v;this.$VideoPlayerLogger4=0;this.$VideoPlayerLogger5();}t.prototype.logEvent=function(event,u){"use strict";q(u,this.$VideoPlayerLogger3);if(this.$VideoPlayerLogger2.hasOwnProperty(event)){u.initial_event=false;}else u.initial_event=this.$VideoPlayerLogger2[event]=true;if(!u.hasOwnProperty('time_ms'))u.time_ms=Date.now();if(!u.hasOwnProperty('time'))u.time=Math.round(u.time_ms/1000);if(this.$VideoPlayerLogger1)q(u,this.$VideoPlayerLogger1);switch(event){case o.PLAYER_INITIALIZATION:this.$VideoPlayerLogger6=u.time_ms;break;case o.REQUESTED_PLAYING:case o.STARTED_PLAYING:case o.PLAYER_ALLOCATED:case o.PLAYER_SENT_REQUEST:case o.PLAYER_RECEIVED_FIRST_BYTE:case o.BUFFER_READY:case o.METADATA_READY:if(!u.initial_event)break;u.elapsed_time_since_init=Date.now()-this.$VideoPlayerLogger6;break;}switch(event){case j.REQUESTED_PLAYING:this.$VideoPlayerLogger5();this.$VideoPlayerLogger7();this.$VideoPlayerLogger8=true;if(this.$VideoPlayerLogger2[j.STARTED_PLAYING]){u.state=p.UNPAUSED;}else u.state=p.STARTED;break;case j.STARTED_PLAYING:case j.UNPAUSED:case j.FINISHED_PLAYING:case j.CANCELLED_REQUESTED_PLAYING:case j.ERROR:case j.PAUSED:if(event===j.ERROR&&u.state!==l.PLAYBACK_FAILURE)break;if(event===j.CANCELLED_REQUESTED_PLAYING)if(this.$VideoPlayerLogger2[j.STARTED_PLAYING]){u.state=p.UNPAUSED;}else u.state=p.STARTED;if(this.$VideoPlayerLogger8)this.$VideoPlayerLogger9();this.$VideoPlayerLoggera(u);this.$VideoPlayerLogger5();break;}var v={logData:u,event:event,scriptPath:this.$VideoPlayerLoggerb,source:this.$VideoPlayerLogger0};if(!event)h.reportError(new Error(r('VideoPlayerLogger: Missing event name')),false);if(this.$VideoPlayerLogger0===n.ANIMATED_IMAGE_SHARE)return;if(u.ad_client_token){g.post(s,v,g.VITAL);}else g.post(s,v);if(event===j.FINISHED_PLAYING||event===j.PAUSED){var w=u.time_ms||Date.now(),x=u.video_time_position-u.video_last_start_time_position;if(x>=0)i.maybeReportActiveInterval('video',w-Math.floor(x*1000),w);}};t.prototype.setScriptPath=function(u){"use strict";this.$VideoPlayerLoggerb=u;};t.prototype.setFTData=function(u){"use strict";this.$VideoPlayerLogger1=u;};t.prototype.startBuffering=function(){"use strict";this.$VideoPlayerLogger7();};t.prototype.endBuffering=function(){"use strict";if(this.$VideoPlayerLoggerc>0)this.$VideoPlayerLogger9();};t.prototype.$VideoPlayerLogger7=function(){"use strict";this.$VideoPlayerLoggerc=Date.now();};t.prototype.$VideoPlayerLogger9=function(){"use strict";var u=(Date.now()-this.$VideoPlayerLoggerc);this.$VideoPlayerLoggerd=this.$VideoPlayerLoggerd+u;this.$VideoPlayerLogger4=this.$VideoPlayerLogger4+u;this.$VideoPlayerLoggere++;};t.prototype.getCurrentStallTime=function(){"use strict";return this.$VideoPlayerLogger4;};t.prototype.$VideoPlayerLoggera=function(u){"use strict";u.stall_time=Math.max(0,this.$VideoPlayerLoggerd);u.stall_count=this.$VideoPlayerLoggere;};t.prototype.$VideoPlayerLogger5=function(){"use strict";this.$VideoPlayerLoggerd=0;this.$VideoPlayerLoggerc=0;this.$VideoPlayerLoggere=0;this.$VideoPlayerLogger8=false;};q(t,{Sources:n,Errors:k,FallbackReasons:m,ErrorStates:l,PlayerStates:p});e.exports=t;},null);
__d("flash-js",["copyProperties"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();function h(){}g(h,{INIT:'flash/init',READY:'flash/ready',FAILED:'flash/failed'});e.exports=h;},null);
__d("legacy:flash-js",["flash-js"],function(a,b,c,d){b.__markCompiled&&b.__markCompiled();a.Flash=b('flash-js');},3);
__d("getLayoutRoot",["DOMQuery","csx"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=null;function j(){if(!i)i=g.scry(document.body,"._li")[0];return i;}e.exports=j;},null);
__d("SpotlightViewerUnmountOnClose",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){"use strict";this.$SpotlightViewerUnmountOnClose0=h;}g.prototype.enable=function(){"use strict";this.$SpotlightViewerUnmountOnClose1=this.$SpotlightViewerUnmountOnClose0.subscribeOnce('close',this.$SpotlightViewerUnmountOnClose0.unmountComponent.bind(this.$SpotlightViewerUnmountOnClose0));};g.prototype.disable=function(){"use strict";this.$SpotlightViewerUnmountOnClose1&&this.$SpotlightViewerUnmountOnClose1.unsubscribe();delete this.$SpotlightViewerUnmountOnClose1;};e.exports=g;},null);
__d("legacy:swfobject",["swfobject"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();a.deconcept=g;a.SWFObject=g.SWFObject;a.showFlashErrorDialog=g.showFlashErrorDialog;},3);
__d("VideoChannelViewChainLengthManager",["guid"],function(a,b,c,d,e,f,g){b.__markCompiled&&b.__markCompiled();var h={generateNewSessionID:function(){this._currentSessionID=g();},getLoggingData:function(){return {video_chaining_depth_level:this.getCurrentChainLength(),video_chaining_session_id:this.getCurrentSessionID()};},registerChainingInfos:function(i,j){var k=i;if(j){var l=j.decode();k=l.root_id;}if(k)k=k.toString();this.registerVideoID(k,i);},registerVideoID:function(i,j){var k=0;if(i!==j)k=1;if(!this._currentRootVideoID||this._currentRootVideoID!==i){this.generateNewSessionID();this._currentRootVideoID=i;this._chainLength=k;}else if(this._currentVideoID!==j)this.incrementChainLength();this._currentVideoID=j;},incrementChainLength:function(){this._chainLength=this._chainLength+1;},getCurrentSessionID:function(){return this._currentSessionID;},getCurrentChainLength:function(){if(this._chainLength===(void 0)){return null;}else return this._chainLength;}};e.exports=h;},null);
__d("VideoAutoplayControllerX",["Arbiter","DesktopHscrollUnitEventConstants","DOMDimensions","DOMVector","Event","SubscriptionsHandler","VideoPlayerReason","VideoPlayerPreloadExperiment","VideoPlayerScrollSpeedExperiment","Visibility","destroyOnUnload","throttle","performanceNow","setTimeout","clearTimeout"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){b.__markCompiled&&b.__markCompiled();var v=null,w=500;function x(){"use strict";this.$VideoAutoplayControllerX0=null;this.$VideoAutoplayControllerX1=null;this.$VideoAutoplayControllerX2=new l();this.$VideoAutoplayControllerX3=new l();this.$VideoAutoplayControllerX4=[];this.setAutoplayInterval(w);q(function(){this.$VideoAutoplayControllerX5();if(this===v)v=null;}.bind(this));}x.prototype.setAutoplayInterval=function(y){"use strict";if(y===this.$VideoAutoplayControllerX6)return;this.$VideoAutoplayControllerX6=y;this.$VideoAutoplayControllerX7();};x.registerVideoUnit=function(y){"use strict";if(v==null)v=new x();v.$VideoAutoplayControllerX8();v.$VideoAutoplayControllerX4.push(y);if(y.isVisible())v.$VideoAutoplayControllerX9();};x.prototype.$VideoAutoplayControllerX5=function(){"use strict";this.$VideoAutoplayControllerX2.release();this.$VideoAutoplayControllerX3.release();this.$VideoAutoplayControllerXa.remove();this.$VideoAutoplayControllerXa=null;};x.prototype.$VideoAutoplayControllerX8=function(){"use strict";if(!this.$VideoAutoplayControllerX4.length){this.$VideoAutoplayControllerX3.addSubscriptions(k.listen(window,'resize',this.$VideoAutoplayControllerX9.bind(this)),k.listen(window,'blur',this.$VideoAutoplayControllerXb.bind(this)),k.listen(window,'focus',this.$VideoAutoplayControllerXc.bind(this)),p.addListener(p.HIDDEN,this.$VideoAutoplayControllerXb.bind(this)),p.addListener(p.VISIBLE,this.$VideoAutoplayControllerXc.bind(this)),g.subscribe(h.HSCROLL_ITEM_SHOWN_EVENT,this.$VideoAutoplayControllerX9.bind(this)));if(!this.$VideoAutoplayControllerXa)this.$VideoAutoplayControllerX7();}};x.prototype.$VideoAutoplayControllerX7=function(){"use strict";if(this.$VideoAutoplayControllerXa)this.$VideoAutoplayControllerXa.remove();this.$VideoAutoplayControllerXa=k.listen(window,'scroll',r(this.$VideoAutoplayControllerX9.bind(this),this.$VideoAutoplayControllerX6));};x.prototype.$VideoAutoplayControllerXd=function(y){"use strict";return this.$VideoAutoplayControllerX4.filter(function(z){return z.getDistanceToViewport()>=0;}).sort(function(z,aa){return z.getDistanceToViewport()-aa.getDistanceToViewport();}).slice(0,y);};x.prototype.$VideoAutoplayControllerXe=function(){"use strict";var y=[];this.$VideoAutoplayControllerX4.forEach(function(z){if(z.isVisible()){y.push(z);if(!z.wasVisible){z.wasVisible=true;z.logDisplayed();}}else z.wasVisible=false;});return y;};x.prototype.$VideoAutoplayControllerXb=function(){"use strict";if(!this.$VideoAutoplayControllerX0){this.$VideoAutoplayControllerX0=this.$VideoAutoplayControllerX1;this.$VideoAutoplayControllerXf(m.PAGE_VISIBILITY);}};x.prototype.$VideoAutoplayControllerXc=function(){"use strict";if(this.$VideoAutoplayControllerX0){this.$VideoAutoplayControllerX1=this.$VideoAutoplayControllerX0;this.$VideoAutoplayControllerX0=null;this.$VideoAutoplayControllerX1.playWithoutUnmute(m.PAGE_VISIBILITY);}};x.prototype.$VideoAutoplayControllerXf=function(y){"use strict";if(this.$VideoAutoplayControllerX1){this.$VideoAutoplayControllerX1.pause(y);this.$VideoAutoplayControllerX1=null;}};x.prototype.$VideoAutoplayControllerXg=function(){"use strict";if(this.$VideoAutoplayControllerX1.addListener){this.$VideoAutoplayControllerX2.release();this.$VideoAutoplayControllerX2.engage();this.$VideoAutoplayControllerX2.addSubscriptions.apply(this.$VideoAutoplayControllerX2,['finishPlayback','turnOffAutoplay'].map(function(event){return this.$VideoAutoplayControllerX1.addListener(event,function(){this.$VideoAutoplayControllerX2.release();this.$VideoAutoplayControllerX1=null;}.bind(this));}.bind(this)));}};x.prototype.$VideoAutoplayControllerXh=function(){"use strict";var y=s(),z=j.getScrollPosition().y,aa=z-this.$VideoAutoplayControllerXi,ba=(y-this.$VideoAutoplayControllerXj)/1000,ca=aa/ba;this.$VideoAutoplayControllerXi=z;this.$VideoAutoplayControllerXj=y;var da=i.getViewportDimensions().height;return ca/da;};x.prototype.$VideoAutoplayControllerX9=function(){"use strict";var y=this.$VideoAutoplayControllerXh();u(this.$VideoAutoplayControllerXk);if(y!==0)this.$VideoAutoplayControllerXk=t(function(){return this.$VideoAutoplayControllerX9();}.bind(this),this.$VideoAutoplayControllerX6+50);var z=o.threshold,aa;if(z&&y>z){aa=[];if(this.$VideoAutoplayControllerX1&&this.$VideoAutoplayControllerX1.isVisible())aa.push(this.$VideoAutoplayControllerX1);}else aa=this.$VideoAutoplayControllerXe();this.$VideoAutoplayControllerXd(n.preloadVideosCount).forEach(function(ea){return ea.preload();});var ba=aa.length,ca=null;if(ba==1){ca=aa[0];ca=ca.isAutoplayable()?ca:null;}else if(ba>1){var da=i.getViewportDimensions().height/2;aa.forEach(function(ea){if(!ea.isAutoplayable())return;var fa=ea.getDOMPosition(),ga=fa.y+fa.height/2,ha=Math.abs(ga-da);ea.playPriority=ha;if(!ca||ea.playPriority<ca.playPriority)ca=ea;});}if(this.$VideoAutoplayControllerX1){if(ca!=this.$VideoAutoplayControllerX1){this.$VideoAutoplayControllerXf(m.AUTOPLAY);this.$VideoAutoplayControllerX1=ca;if(this.$VideoAutoplayControllerX1){this.$VideoAutoplayControllerXg();this.$VideoAutoplayControllerX1.playWithoutUnmute(m.AUTOPLAY);}}}else if(ca){this.$VideoAutoplayControllerX1=ca;this.$VideoAutoplayControllerXg();this.$VideoAutoplayControllerX1.playWithoutUnmute(m.AUTOPLAY);}};e.exports=x;},null);
__d("VideoPlayerAdditionalLogDataGetter",[],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();function g(h){"use strict";if(typeof h==='function'){this.$VideoPlayerAdditionalLogDataGetter0=null;this.$VideoPlayerAdditionalLogDataGetter1=h;}else{this.$VideoPlayerAdditionalLogDataGetter0=h;this.$VideoPlayerAdditionalLogDataGetter1=null;}}g.prototype.get=function(){"use strict";if(this.$VideoPlayerAdditionalLogDataGetter1)return this.$VideoPlayerAdditionalLogDataGetter1();return this.$VideoPlayerAdditionalLogDataGetter0;};e.exports=g;},null);
__d("SpotlightVideoDimensions",["PhotoViewerDimensions","Vector"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();var i=520;function j(k){"use strict";this.$SpotlightVideoDimensions0=new g();this.$SpotlightVideoDimensions1=k;}j.prototype.getStageAndVideoDimensions=function(k){"use strict";var l=this.$SpotlightVideoDimensions0.getMaxStageDimensions(),m=this.$SpotlightVideoDimensions0.getImageDimensionsForStage(k,l.sub(this.$SpotlightVideoDimensions1,0)),n=new h(m.x+this.$SpotlightVideoDimensions1,Math.max(m.y,i));return {stageDimensions:n,videoDimensions:m};};e.exports=j;},null);
__d("VideoSpotlight",["LayerHideOnBlur","LayerHideOnEscape","ReactLayer","Spotlight","cx","getLayoutRoot","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=i.createClass({getDefaultEnabledBehaviors:function(){return {hideOnBlur:g,hideOnEscape:h};},createLayer:function(o){m(l());var p=this.enumerateBehaviors(this.props.behaviors),q={addedBehaviors:p,rootClassName:"_5v-m"},r=new j(q,o);r.conditionShow(this.props.shown);r.setInsertParent(l());if(this.props.onHide)r.subscribe('hide',this.props.onHide);return r;},receiveProps:function(o){this.layer.conditionShow(o.shown);}});e.exports=n;},null);
__d("SpotlightVideoViewer",["ArbiterMixin","BehaviorsMixin","Event","React","ReactLayeredComponentMixin","SpotlightVideoDimensions","SpotlightViewerClose","SpotlightViewerUnmountOnClose","SpotlightViewport","SubscriptionsHandler","Style","Vector","VideoSpotlight","cx","getViewportDimensions","invariant"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){b.__markCompiled&&b.__markCompiled();var w=360,x=j.createClass({displayName:"SpotlightVideoViewer",mixins:[g,h,k],behaviors:[n],componentWillMount:function(){this.enableBehaviors(this.behaviors);},componentDidMount:function(){this._subscriptions.addSubscriptions(i.listen(window,'resize',this._onResize));this._popOutVideo();},componentWillUnmount:function(){this._subscriptions.release();this.destroyBehaviors();},getInitialState:function(){this._dimensions=new l(w);this._originalDimensions=new r(this.props.videoElement.offsetWidth,this.props.videoElement.offsetHeight);this._targetDimensions=this._originalDimensions.mul(2);this._subscriptions=new p();return {dimensions:this._dimensions.getStageAndVideoDimensions(this._targetDimensions)};},renderLayers:function(){var y={height:this.state.dimensions.stageDimensions.y+'px'};return {videoLayer:j.createElement(s,{onHide:this._popInVideo,shown:true},j.createElement("div",{className:"_n3"},j.createElement(o,{stageDimensions:this.state.dimensions.stageDimensions},j.createElement(m,{onClick:this._handleClose}),j.createElement("div",{className:"rfloat _5xg6",style:y},j.createElement("div",{className:"_5xg7"},' ',"UFI Section",' ')))))};},render:function(){return j.createElement("div",null);},_handleClose:function(){this.inform('close');},_onResize:function(){this.setState({dimensions:this._dimensions.getStageAndVideoDimensions(this._targetDimensions)});this._repositionVideo();},_popOutVideo:function(){v(this.props.videoElement);q.apply(this.props.videoElement,{position:'fixed','z-index':'401'});this._repositionVideo();},_popInVideo:function(){this._handleClose();v(this.props.videoElement);var y=this._originalDimensions.x,z=this._originalDimensions.y;q.apply(this.props.videoElement,{left:0,height:z+'px',position:'static',top:0,width:y+'px','z-index':'auto'});q.apply(this.props.swfElement,{height:z+'px',width:y+'px'});},_repositionVideo:function(){var y=u.withoutScrollbars(),z=this.state.dimensions.videoDimensions.y,aa=this.state.dimensions.videoDimensions.x-1,ba=y.width/2-this.state.dimensions.stageDimensions.x/2+1,ca=y.height/2-z/2;q.apply(this.props.videoElement,{height:z+'px',left:ba+'px',top:ca+'px',width:aa+'px'});q.apply(this.props.swfElement,{height:z+'px',width:aa+'px'});}});e.exports=x;},null);
__d("VideoViewer",["DOM","React","SpotlightVideoViewer"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j={_viewerContainer:null,bootstrapWithElement:function(k,l){var m=h.createElement(i,{swfElement:l,videoElement:k});j.renderViewer(m);},renderViewer:function(k){if(!this._viewerContainer){this._viewerContainer=g.create('div');document.body.appendChild(this._viewerContainer);}k=h.render(k,this._viewerContainer);k.subscribeOnce('close',function(){g.empty(this._viewerContainer);}.bind(this));}};e.exports=j;},null);
__d("VideoInlinePlayerController",["Arbiter","AttachmentRelatedShareConstants","CSS","DOM","DOMDimensions","DOMQuery","Event","EventEmitter","LitestandStoryInsertionStatus","Run","Set","SubscriptionsHandler","VideoAutoplayPlayButton","VideoPlayerAdditionalLogDataGetter","VideoPlayerApiEvents","VideoPlayerLoggerEvents","VideoPlayerLoggerErrors","VideoPlayerLoggerErrorStates","VideoPlayerLoggerFallbackReasons","VideoViewer","csx","cx","getElementPosition","logVideosClickTracking","VideoPlayerReason"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea){b.__markCompiled&&b.__markCompiled();var fa=1,ga=100,ha=10000;for(var ia in n)if(n.hasOwnProperty(ia))ka[ia]=n[ia];var ja=n===null?null:n.prototype;ka.prototype=Object.create(ja);ka.prototype.constructor=ka;ka.__superConstructor__=n;function ka(la,ma){"use strict";ja.constructor.call(this);this.$VideoInlinePlayerController0=ma;this.$VideoInlinePlayerController1=la;this.$VideoInlinePlayerController2=new q();if(!this.$VideoInlinePlayerController0.viewport_autoplay)this.$VideoInlinePlayerController2.add('server_blocked');this.$VideoInlinePlayerController3=this.isAutoplayable();this.$VideoInlinePlayerController4=new r();this.$VideoInlinePlayerController5=null;p.onLeave(function(){this.$VideoInlinePlayerController4.release();}.bind(this));this.$VideoInlinePlayerController6=false;if(s.getClicked(ma.flash_id))this.$VideoInlinePlayerController6=true;this.$VideoInlinePlayerController7=ma.controller;this.$VideoInlinePlayerController7.setAdditionalLogDataGetter(new t(function(){return {autoplay_eligible:this.isAutoplayable(),autoplay_failure_reasons:JSON.stringify(Array.from(this.$VideoInlinePlayerController2))};}.bind(this)));if(this.$VideoInlinePlayerController7.isImplementationUnavailable())this.$VideoInlinePlayerController8();this.$VideoInlinePlayerController9();if(this.$VideoInlinePlayerControllera('fallback'))return;if(this.$VideoInlinePlayerController6)this.$VideoInlinePlayerControllerb(ea.USER);this.$VideoInlinePlayerControllerc();s.unregister(this.$VideoInlinePlayerController0.flash_id);if(this.$VideoInlinePlayerController1.thumbnails)this.$VideoInlinePlayerController1.thumbnails.forEach(function(na){this.$VideoInlinePlayerController4.addSubscriptions(m.listen(na,'click',function(){return this.$VideoInlinePlayerControllerd();}.bind(this)));}.bind(this));this.$VideoInlinePlayerController4.addSubscriptions(m.listen(this.$VideoInlinePlayerController1.play_icon,'click',function(){return this.$VideoInlinePlayerControllerd();}.bind(this)),o.registerBlocker(function(){return this.$VideoInlinePlayerControllera('playing');}.bind(this)));if(this.$VideoInlinePlayerControllere()){this.$VideoInlinePlayerController1.pivotThumbs.forEach(function(na){this.$VideoInlinePlayerController4.addSubscriptions(m.listen(na,'click',function(){this.$VideoInlinePlayerControllerf();}.bind(this)));}.bind(this));this.$VideoInlinePlayerController4.addSubscriptions(m.listen(this.$VideoInlinePlayerController1.pivotNextText,'click',function(){this.$VideoInlinePlayerControllerd();}.bind(this)));this.$VideoInlinePlayerController4.addSubscriptions(m.listen(this.$VideoInlinePlayerController1.pivotReplayText,'click',function(){this.$VideoInlinePlayerControllerf();}.bind(this)));}}ka.prototype.$VideoInlinePlayerControllerg=function(){"use strict";return !!this.$VideoInlinePlayerController0.show_play_button_on_finish;};ka.prototype.getDistanceToViewport=function(){"use strict";if(this.$VideoInlinePlayerController7.isFullscreen())return 0;var la=k.getViewportDimensions().height,ma=this.getDOMPosition();if(ma.height===0)return -Infinity;var na=ma.y+(1-fa)*ma.height;return na-(la/2);};ka.prototype.isVisible=function(){"use strict";if(this.$VideoInlinePlayerController7.isFullscreen())return true;var la=k.getViewportDimensions().height,ma=this.getDOMPosition();if(ma.height===0)return false;var na=ma.y+(1-fa)*ma.height,oa=ma.y+fa*ma.height;if(na<0||oa>=la)return false;var pa=this.$VideoInlinePlayerControllerh();if(pa!==null)return this.$VideoInlinePlayerControlleri(ma,ca(pa));return true;};ka.prototype.$VideoInlinePlayerControllerh=function(){"use strict";var la=l.scry(this.$VideoInlinePlayerController1.video_container,"^div._1yj5");if(la.length>0)return la[0];return null;};ka.prototype.$VideoInlinePlayerControlleri=function(la,ma){"use strict";var na=la.x,oa=la.x+la.width,pa=ma.x,qa=ma.x+ma.width;return pa<na&&oa<qa;};ka.prototype.$VideoInlinePlayerController8=function(){"use strict";this.$VideoInlinePlayerControllerj(false,y.FLASH_UNAVAILABLE);};ka.prototype.isAutoplayable=function(){"use strict";return this.$VideoInlinePlayerController0.viewport_autoplay&&!this.$VideoInlinePlayerControllerk&&!this.$VideoInlinePlayerController2.length;};ka.prototype.$VideoInlinePlayerControllerb=function(la){"use strict";if(this.$VideoInlinePlayerController3){this.$VideoInlinePlayerController3=false;this.$VideoInlinePlayerController7.unmute();}this.$VideoInlinePlayerController7.play(la);};ka.prototype.getCurrentTimePosition=function(){"use strict";return this.$VideoInlinePlayerController7.getCurrentTimePosition();};ka.prototype.playWithoutUnmute=function(la){"use strict";this.$VideoInlinePlayerController7.play(la);};ka.prototype.$VideoInlinePlayerControllerd=function(){"use strict";this.$VideoInlinePlayerControllerb(ea.USER);da(this.$VideoInlinePlayerController7.getVideoNode());};ka.prototype.$VideoInlinePlayerControllerf=function(){"use strict";this.$VideoInlinePlayerController7.previousVideo();this.$VideoInlinePlayerControllerb(ea.USER);};ka.prototype.getVideoID=function(){"use strict";return this.$VideoInlinePlayerController7.getVideoID();};ka.prototype.$VideoInlinePlayerControllerl=function(){"use strict";return this.$VideoInlinePlayerController7.getVideoIndex();};ka.prototype.$VideoInlinePlayerControllerm=function(){"use strict";this.$VideoInlinePlayerControllern();};ka.prototype.$VideoInlinePlayerControllero=function(){"use strict";i.show(this.$VideoInlinePlayerController1.spinner);};ka.prototype.$VideoInlinePlayerController9=function(){"use strict";var la=[['expandVideo',function(){return this.$VideoInlinePlayerControllerp();}.bind(this)],['finishPlayback',function(){return this.$VideoInlinePlayerControllerq();}.bind(this)],['turnOffAutoplay',function(na){return this.$VideoInlinePlayerControllerr(na.reason);}.bind(this)],['unmuteVideo',function(){return this.$VideoInlinePlayerControllers();}.bind(this)],['stateChange',function(){return this.$VideoInlinePlayerControllern();}.bind(this)],['switchVideo',function(){return this.$VideoInlinePlayerControllerm();}.bind(this)],['fallbackPlay',function(){return this.$VideoInlinePlayerControllert();}.bind(this)],['buffered',function(){return this.$VideoInlinePlayerControllern();}.bind(this)],['buffering',function(){return this.$VideoInlinePlayerControllern();}.bind(this)],['error',function(){return this.$VideoInlinePlayerControlleru();}.bind(this)],['playRequested',function(){return this.$VideoInlinePlayerControllero();}.bind(this)]],ma=function(event){return this.emit.bind(this,event);}.bind(this);this.$VideoInlinePlayerController4.addSubscriptions.apply(this.$VideoInlinePlayerController4,la.map(function(na){return this.$VideoInlinePlayerController7.addListener.apply(this.$VideoInlinePlayerController7,na);}.bind(this)).concat(u.map(function(event){return this.$VideoInlinePlayerController7.addListener(event,ma(event));}.bind(this))));};ka.prototype.preload=function(){"use strict";if(this.$VideoInlinePlayerController7.preload)this.$VideoInlinePlayerController7.preload();};ka.prototype.logDisplayed=function(){"use strict";this.$VideoInlinePlayerController7.logEvent(v.DISPLAYED,{autoplay_reason:this.$VideoInlinePlayerController0.autoplay_reason});};ka.prototype.$VideoInlinePlayerControlleru=function(){"use strict";this.$VideoInlinePlayerControllerj(true,y.FLASH_ERROR);};ka.prototype.$VideoInlinePlayerControllert=function(){"use strict";var la={error:w.ENTERED_FALLBACK,error_description:"fallback_reason: "+this.$VideoInlinePlayerController5,state:x.PLAYBACK_FAILURE};this.$VideoInlinePlayerController7.logEvent(v.ERROR,la);};ka.prototype.$VideoInlinePlayerControllerj=function(la,ma){"use strict";la=la===(void 0)?true:la;this.$VideoInlinePlayerController5=ma;this.$VideoInlinePlayerControllerv('fallback');this.$VideoInlinePlayerController7.setState('fallback');this.$VideoInlinePlayerController7.logEvent(v.ENTERED_FALLBACK,{debug_reason:ma,flash_available:la});};ka.prototype.$VideoInlinePlayerControllerc=function(){"use strict";setTimeout(function(){if(this.$VideoInlinePlayerControllera('loading')){this.$VideoInlinePlayerControllerj(true,y.TIMEOUT);this.$VideoInlinePlayerController7.cancelPlayRequest();}}.bind(this),ha);};ka.prototype.$VideoInlinePlayerControllerp=function(){"use strict";z.bootstrapWithElement(this.$VideoInlinePlayerController1.video_container,this.$VideoInlinePlayerController7.getVideoNode());};ka.prototype.$VideoInlinePlayerControllers=function(){"use strict";this.$VideoInlinePlayerControllerw();};ka.prototype.$VideoInlinePlayerControllere=function(){"use strict";return this.$VideoInlinePlayerController7.getVideosCount()>1;};ka.prototype.$VideoInlinePlayerControllerq=function(){"use strict";if(this.$VideoInlinePlayerControllere())this.$VideoInlinePlayerController7.nextVideo();this.$VideoInlinePlayerControllerv('has_seen_finished');};ka.prototype.handleFlashApiFactoryError=function(la,ma){"use strict";ja.handleFlashApiFactoryError.call(this,la,ma);this.$VideoInlinePlayerControllerj(true,y.FLASH_ERROR);};ka.prototype.$VideoInlinePlayerControllerv=function(la){"use strict";this.$VideoInlinePlayerControllerk=true;this.$VideoInlinePlayerController2.add(la);};ka.prototype.$VideoInlinePlayerControllerr=function(la){"use strict";this.$VideoInlinePlayerControllerv(la);};ka.prototype.$VideoInlinePlayerControllern=function(){"use strict";this.$VideoInlinePlayerControllerx();this.$VideoInlinePlayerControllery();this.$VideoInlinePlayerControllerz();this.$VideoInlinePlayerControllerA();this.$VideoInlinePlayerControllerB();this.$VideoInlinePlayerControllerC();};ka.prototype.getDOMPosition=function(){"use strict";return this.$VideoInlinePlayerController7.getDOMPosition();};ka.prototype.pause=function(la){"use strict";this.$VideoInlinePlayerController7.pause(la);};ka.prototype.$VideoInlinePlayerControllerx=function(){"use strict";if(this.$VideoInlinePlayerControllera('fallback')){this.$VideoInlinePlayerController4.release();var la=this.$VideoInlinePlayerController1;j.remove(this.$VideoInlinePlayerController7.getVideoNode());j.replace(la.video_container,la.fallback_link);j.appendContent(la.fallback_link,la.video_container);}};ka.prototype.$VideoInlinePlayerControllerA=function(){"use strict";if(this.$VideoInlinePlayerControllera('fallback')||(this.$VideoInlinePlayerControllera('loading')&&!this.$VideoInlinePlayerController7.isPlayRequestPending()&&!this.$VideoInlinePlayerController6&&!this.isAutoplayable())||((this.$VideoInlinePlayerControllera('ready')||this.$VideoInlinePlayerControllera('paused'))&&!this.$VideoInlinePlayerController7.isPlayRequestPending())){i.addClass(this.$VideoInlinePlayerController1.play_icon,"_5vos");}else if(this.$VideoInlinePlayerControllera('finished')){if(!this.$VideoInlinePlayerControllerg()){return;}else if(!this.$VideoInlinePlayerControllere())i.addClass(this.$VideoInlinePlayerController1.play_icon,"_5vos");}else if(!this.$VideoInlinePlayerControllera('finished')||!this.$VideoInlinePlayerControllere()){i.removeClass(this.$VideoInlinePlayerController1.play_icon,"_5vos");i.removeClass(this.$VideoInlinePlayerController1.play_icon,"_5vov");}};ka.prototype.$VideoInlinePlayerControllerB=function(){"use strict";if(this.$VideoInlinePlayerController7.isBuffering()||(this.$VideoInlinePlayerControllera('loading')&&(this.$VideoInlinePlayerController6||this.isAutoplayable()))||(this.$VideoInlinePlayerControllera('ready')&&this.$VideoInlinePlayerController7.isPlayRequestPending())){i.show(this.$VideoInlinePlayerController1.spinner);}else i.hide(this.$VideoInlinePlayerController1.spinner);};ka.prototype.$VideoInlinePlayerControllerC=function(){"use strict";if(!this.$VideoInlinePlayerController1.thumbnails)return;if(this.$VideoInlinePlayerControllera('playing')||this.$VideoInlinePlayerControllera('paused')){this.$VideoInlinePlayerController1.thumbnails.forEach(function(la){i.hide(la);});}else i.show(this.$VideoInlinePlayerController1.thumbnails[this.$VideoInlinePlayerControllerl()]);};ka.prototype.$VideoInlinePlayerControllerz=function(){"use strict";if(!this.$VideoInlinePlayerControllere())return;var la=this.$VideoInlinePlayerController1.pivotThumbs;la.forEach(function(na){i.removeClass(na,"_5vlu");i.removeClass(na,"_5vou");i.addClass(na,"_5vot");});i.removeClass(this.$VideoInlinePlayerController1.pivotReplayText,"_5vm5");i.removeClass(this.$VideoInlinePlayerController1.pivotNextText,"_5vm5");if(this.$VideoInlinePlayerControllera('finished')){var ma=la[this.$VideoInlinePlayerControllerD()];i.removeClass(ma,"_5vot");i.addClass(ma,"_5vlu");setTimeout(function(){if(!this.$VideoInlinePlayerControllera('finished'))return;i.addClass(ma,"_5vou");i.addClass(this.$VideoInlinePlayerController1.pivotReplayText,"_5vm5");i.addClass(this.$VideoInlinePlayerController1.pivotNextText,"_5vm5");i.addClass(this.$VideoInlinePlayerController1.play_icon,"_5vov");}.bind(this),ga);}};ka.prototype.$VideoInlinePlayerControllery=function(){"use strict";if(!this.$VideoInlinePlayerControllere())return;var la=this.$VideoInlinePlayerController1.story_footers;for(var ma=0;ma<la.length;ma++)i.conditionShow(la[ma],ma===this.$VideoInlinePlayerControllerl());};ka.prototype.$VideoInlinePlayerControllerE=function(){"use strict";var la=this.$VideoInlinePlayerControllerF();return (this.$VideoInlinePlayerControllerl()+1)%la;};ka.prototype.$VideoInlinePlayerControllerD=function(){"use strict";var la=this.$VideoInlinePlayerControllerF();return (this.$VideoInlinePlayerControllerl()-1+la)%la;};ka.prototype.$VideoInlinePlayerControllerF=function(){"use strict";return this.$VideoInlinePlayerController7.getVideosCount();};ka.prototype.$VideoInlinePlayerControllerw=function(){"use strict";g.inform(h.FBVIDEO_CLICK,{attachment:this.$VideoInlinePlayerController1.video_container,fbvideo_id:this.$VideoInlinePlayerController0.video_ids[0]});};ka.prototype.$VideoInlinePlayerControllera=function(la){"use strict";return this.$VideoInlinePlayerController7.isState(la);};e.exports=ka;},null);
__d("XVideoRhcController",["XController"],function(a,b,c,d,e,f){b.__markCompiled&&b.__markCompiled();e.exports=b("XController").create("\/video\/righthandcolumn\/",{video_id:{type:"String",required:true}});},null);
__d("VideoRhcController",["AsyncRequest","CSS","DOMDimensions","DockingElement","Event","StickyRHC","SubscriptionsHandler","VideoPlayerReason","ViewportBounds","XVideoRhcController","destroyOnUnload","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){b.__markCompiled&&b.__markCompiled();var s=500,t=null;function u(){"use strict";this.$VideoRhcController0=null;this.$VideoRhcController1=new m();this.$VideoRhcController2=null;this.$VideoRhcController3=null;this.$VideoRhcController4=null;this.$VideoRhcController5=null;this.$VideoRhcController6=null;q(function(){if(this.$VideoRhcController5)this.$VideoRhcController5.remove();this.$VideoRhcController0=null;if(this.$VideoRhcController1)this.$VideoRhcController1.release();this.$VideoRhcController1=null;this.$VideoRhcController2=null;this.$VideoRhcController3=null;if(this.$VideoRhcController4)this.$VideoRhcController4.destroy();this.$VideoRhcController4=null;this.$VideoRhcController5=null;this.$VideoRhcController6=null;if(this===t)t=null;}.bind(this));}u.getInstance=function(){"use strict";if(t==null)t=new u();return t;};u.addRhcRootElement=function(v){"use strict";var w=u.getInstance();w.setRhcRootElement(v);};u.initRhcVideoUnit=function(v,w){"use strict";var x=u.getInstance();x.setRhcVideoUnit(v,w);};u.registerVideoUnit=function(v){"use strict";var w=u.getInstance();w.$VideoRhcController7();v.addListener('beginPlayback',function(x){return w.$VideoRhcController8(v,x.reason);});v.addListener('unmuteVideo',function(x){return w.$VideoRhcController9(v);});};u.prototype.setRhcRootElement=function(v){"use strict";this.$VideoRhcController2=v;this.$VideoRhcController4=new j(this.$VideoRhcController2);this.$VideoRhcController4.setOffset(o.getTop());};u.prototype.setRhcVideoUnit=function(v,w){"use strict";this.$VideoRhcController3=v;this.$VideoRhcController6=w;this.$VideoRhcController6.onclick=function(){this.$VideoRhcControllera();}.bind(this);};u.prototype.$VideoRhcController8=function(v,w){"use strict";if(w!==n.USER)return;this.$VideoRhcController9(v);};u.prototype.$VideoRhcController9=function(v){"use strict";this.$VideoRhcController0=v;if(!this.$VideoRhcController0||!this.$VideoRhcController2)return;this.$VideoRhcControllera();var w=p.getURIBuilder().setString('video_id',this.$VideoRhcController0.getVideoID()).getURI();this.request=new g().setMethod('GET').setURI(w).setReadOnly(true).send();this.$VideoRhcControllerb();};u.prototype.$VideoRhcControllerb=function(){"use strict";this.$VideoRhcController1.release();this.$VideoRhcController1.engage();this.$VideoRhcController1.addSubscriptions.apply(this.$VideoRhcController1,['finishPlayback','pausePlayback'].map(function(event){return this.$VideoRhcController0.addListener(event,function(){this.$VideoRhcController1.release();this.$VideoRhcController0=null;}.bind(this));}.bind(this)));};u.prototype.$VideoRhcController7=function(){"use strict";if(this.$VideoRhcController5)return;this.$VideoRhcController5=k.listen(window,'scroll',r(this.$VideoRhcControllerc.bind(this),s));};u.prototype.$VideoRhcControllera=function(){"use strict";var v=i.getElementDimensions(this.$VideoRhcController2).height;if(this.$VideoRhcController2)h.hide(this.$VideoRhcController2);l.getInstances().forEach(function(w){w.setOffset(w.getOffset()-v);});if(this.$VideoRhcController3)this.$VideoRhcController3.pause(n.PAGE_VISIBILITY);};u.prototype.$VideoRhcControllerd=function(){"use strict";if(!this.$VideoRhcController2||h.shown(this.$VideoRhcController2))return;if(this.$VideoRhcController3&&this.$VideoRhcController0){this.$VideoRhcController3.play(n.PAGE_VISIBILITY);this.$VideoRhcController3.once('beginPlayback',function(){this.$VideoRhcController3.seek(this.$VideoRhcController0.getCurrentTimePosition());this.$VideoRhcController0.pause(n.PAGE_VISIBILITY);}.bind(this));h.show(this.$VideoRhcController2);}l.getInstances().forEach(function(v){v.setOffset(v.getOffset()+i.getElementDimensions(this.$VideoRhcController2).height);}.bind(this));};u.prototype.$VideoRhcControllerc=function(){"use strict";if(this.$VideoRhcController0&&this.$VideoRhcController2&&!this.$VideoRhcController0.isVisible())this.$VideoRhcControllerd();};e.exports=u;},null);
__d("VideoFeedRegister",["VideoAutoplayControllerX","VideoInlinePlayerController","VideoRhcController"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j='video_watch_and_scroll',k={registerVideoUnit:function(l,m,n){var o=new h(l,m);g.registerVideoUnit(o);if(n[j])i.registerVideoUnit(o);}};e.exports=k;},null);
__d("VideoWithClickPlayPause",["VideoPlayerReason","logVideosClickTracking"],function(a,b,c,d,e,f,g,h){b.__markCompiled&&b.__markCompiled();function i(j){"use strict";this.$VideoWithClickPlayPause0=j;this.$VideoWithClickPlayPause1=this.$VideoWithClickPlayPause0.getVideoNode();this.$VideoWithClickPlayPause0.addListener('clickVideo',this.$VideoWithClickPlayPause2.bind(this));}i.prototype.$VideoWithClickPlayPause2=function(){"use strict";if(this.$VideoWithClickPlayPause0.isState('playing')){this.$VideoWithClickPlayPause0.pause(g.USER);}else{h(this.$VideoWithClickPlayPause1);this.$VideoWithClickPlayPause0.play(g.USER);}};e.exports=i;},null);
__d("VideoPlayerController",["Arbiter","Banzai","DOMDimensions","CSS","EventEmitter","Flash","FullScreen","Run","ScriptPath","SubscriptionsHandler","JSLogger","VideoChannelViewChainLengthManager","VideoPlayerApiEvents","VideoPlayerApiFactory","VideoPlayerLogger","VideoPlayerLoggerErrors","VideoPlayerLoggerErrorStates","VideoPlayerLoggerEvents","VideoPlayerInitializationEvents","VideoPlayerVersions","VideosRenderingInstrumentation","Visibility","VideoPlayerReason","arrayContains","collectDataAttributes","cx","destroyOnUnload","emptyFunction","getElementPosition","invariant","logVideosClickTracking"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka){b.__markCompiled&&b.__markCompiled();for(var la in k)if(k.hasOwnProperty(la))na[la]=k[la];var ma=k===null?null:k.prototype;na.prototype=Object.create(ma);na.prototype.constructor=na;na.__superConstructor__=k;function na(oa,pa){"use strict";var qa=oa.video_id,ra=oa.video_ids,sa=oa.chaining_token,ta=oa.source,ua=oa.ad_client_token,va=oa.should_autoplay,wa=oa.player_version,xa=oa.autoplay_setting,ya=oa.additional_logdata_getter,za=oa.apiModule,ab=pa.root_element,bb=pa.container_element,cb=pa.video_element;ma.constructor.call(this);this.$VideoPlayerController0=0;this.$VideoPlayerController1=va;this.$VideoPlayerController2=xa;this.$VideoPlayerController3=ua;this.$VideoPlayerController4=wa;this.$VideoPlayerController5=cb;this.$VideoPlayerController6=ab;this.$VideoPlayerController7=bb;this.$VideoPlayerController8=false;this.$VideoPlayerController9=false;this.$VideoPlayerControllera=qa;this.$VideoPlayerControllerb=ra||[qa];this.$VideoPlayerControllerc=sa;this.$VideoPlayerControllerd=ya||{get:ha};this.$VideoPlayerControllere=za;this.$VideoPlayerControllerf=null;this.$VideoPlayerControllerg=null;this.$VideoPlayerControllerh=null;this.$VideoPlayerControlleri=new u(ta);this.collectFeedTrackingData();this.$VideoPlayerControlleri.setScriptPath(o.getScriptPath());var db=aa.retrieveRenderTime(this.$VideoPlayerController6);this.$VideoPlayerControllerj=Date.now()-db;this.logEvent(y.PLAYER_INITIALIZATION,{time_ms:db});this.$VideoPlayerControllerk=false;this.setState('loading');if(this.isImplementationUnavailable()){this.$VideoPlayerControllerl();return;}this.$VideoPlayerControllerm();h.subscribe(h.SHUTDOWN,function(){this.pause('unloaded');}.bind(this));if(this.$VideoPlayerController1)if(ba.isHidden()){ba.once(ba.VISIBLE,function(){this.play(ca.AUTOPLAY);}.bind(this));}else this.play(ca.AUTOPLAY);this.$VideoPlayerControllern=0;this.$VideoPlayerControllero=false;this.$VideoPlayerControllerp=new p();this.$VideoPlayerControllerp.addSubscriptions(g.subscribe('layer_shown',function(eb,fb){if(fb.type==='DialogX'||fb.type==='PhotoSnowlift'){this.$VideoPlayerControllern=this.$VideoPlayerControllern+1;if(this.$VideoPlayerControllern>0)if(this.isState('playing')){this.pause(ca.PAGE_VISIBILITY);this.$VideoPlayerControllero=true;}}}.bind(this)),g.subscribe('layer_hidden',function(eb,fb){if(fb.type==='DialogX'||fb.type==='PhotoSnowlift'){this.$VideoPlayerControllern=this.$VideoPlayerControllern-1;if(this.$VideoPlayerControllern===0)if(this.$VideoPlayerControllero){this.play(ca.PAGE_VISIBILITY);this.$VideoPlayerControllero=false;}}}.bind(this)),g.subscribe(q.DUMP_EVENT,function(eb,fb){return this.$VideoPlayerControllerr(eb,fb);}.bind(this)));ga(function(){return this.$VideoPlayerControllerp.release();}.bind(this));n.onLeave(function(){return this.pause('unloaded');}.bind(this));}na.prototype.collectFeedTrackingData=function(){"use strict";this.$VideoPlayerControlleri.setFTData(ea(this.getRootNode(),['ft']));};na.prototype.$VideoPlayerControllerr=function(oa,pa){"use strict";pa.video_player_debug_info=pa.video_player_debug_info||{};pa.video_player_debug_info[this.getVideoID()]=this.getDebugInfo();};na.prototype.setAdditionalLogDataGetter=function(oa){"use strict";this.$VideoPlayerControllerd=oa;};na.prototype.$VideoPlayerControllerm=function(){"use strict";if(this.$VideoPlayerControllere){this.$VideoPlayerControllere.onImplementationReady(this.getVideoNode(),function(){return this.onApiReady();}.bind(this));}else t.onImplementationReady(this.getVideoNode(),function(){return this.onApiReady();}.bind(this));};na.prototype.hasCTAEndscreen=function(){"use strict";return !!this.$VideoPlayerControllers;};na.prototype.isImplementationUnavailable=function(){"use strict";if(this.$VideoPlayerControllere)return this.$VideoPlayerControllere.isImplementationUnavailable();return !this.isPlayerVersion(z.HTML5)&&!l.isAvailable();};na.prototype.$VideoPlayerControllerl=function(){"use strict";var oa={error:v.ERROR_CALLING_FLASH,state:w.PLAYER_FAILURE};this.logEvent(x.ERROR,oa);this.$VideoPlayerController1=false;};na.prototype.$VideoPlayerControllert=function(oa,pa,qa){"use strict";var ra={error:oa,error_description:pa,error_user_info:this.getDebugInfo(),state:qa?w.PLAYBACK_FAILURE:w.PLAYER_FAILURE};this.logEvent(x.ERROR,ra);if(qa&&this.$VideoPlayerControllerk)this.$VideoPlayerControllerk=false;};na.prototype.setDimensions=function(oa,pa){"use strict";this.$VideoPlayerController7.style.width=oa+'px';this.$VideoPlayerController7.style.height=pa+'px';if(this.isState('loading')){this.$VideoPlayerControlleru={width:oa,height:pa};}else if(this.getVideoAPI().setDimensions)this.getVideoAPI().setDimensions(oa,pa);};na.prototype.handleFlashApiFactoryError=function(oa,pa){"use strict";this.$VideoPlayerControllert(v.ERROR_CALLING_FLASH,oa.message,pa);};na.prototype.isPlayRequestPending=function(){"use strict";return this.$VideoPlayerControllerk;};na.prototype.play=function(oa){"use strict";this.$VideoPlayerControllerv();if(!this.$VideoPlayerControllerw)this.$VideoPlayerControllerw=oa;if(!this.$VideoPlayerControllerk){var pa=this.$VideoPlayerControllerx({debug_reason:oa});this.logEvent(x.REQUESTED_PLAYING,pa);}this.sendPlayRequest(oa);};na.prototype.sendPlayRequest=function(oa){"use strict";if(this.isState('fallback')){this.emit('fallbackPlay');return;}this.$VideoPlayerControllerk=true;if(this.isState('loading')){this.$VideoPlayerControllery={reason:oa};}else{if(!this.getVideoAPI().isMuted()&&this.$VideoPlayerControllerz)this.logEvent(x.UNMUTED);this.$VideoPlayerControllerz=false;this.getVideoAPI().play(oa);}};na.prototype.getOriginalPlayReason=function(){"use strict";return this.$VideoPlayerControllerw;};na.prototype.reset=function(){"use strict";if(this.isState('loading')||this.isState('fallback'))return;this.resetPositions();this.$VideoPlayerControllerA();this.$VideoPlayerControllerB=null;this.setState('loading');this.$VideoPlayerControllerm();};na.prototype.cancelPlayRequest=function(){"use strict";if(this.$VideoPlayerControllerk){var oa={debug_reason:this.getOriginalPlayReason()};this.$VideoPlayerControllerk=false;this.logEvent(x.CANCELLED_REQUESTED_PLAYING,oa);}};na.prototype.getVideoAPI=function(){"use strict";return this.$VideoPlayerControllerB;};na.prototype.getVideoNode=function(){"use strict";return this.$VideoPlayerController5;};na.prototype.getRootNode=function(){"use strict";return this.$VideoPlayerController6;};na.prototype.onApiReady=function(oa){"use strict";this.$VideoPlayerControllerB=t.create(this.getVideoNode());this.setState('ready');this.logEvent(y.PLAYER_ALLOCATED);this.$VideoPlayerControllerh=this.$VideoPlayerControllerC();this.$VideoPlayerControllerz=!this.getVideoAPI().isMuted();this.$VideoPlayerControllerD();if(this.$VideoPlayerControllery){this.sendPlayRequest(this.$VideoPlayerControllery.reason);this.$VideoPlayerControllery=null;}if(this.$VideoPlayerControlleru){this.setDimensions(this.$VideoPlayerControlleru.width,this.$VideoPlayerControlleru.height);this.$VideoPlayerControlleru=null;}if(this.$VideoPlayerControllerE){this.getVideoAPI().unmute();this.$VideoPlayerControllerE=null;}var pa={is_auto_played:this.isAutoplayable()};if(oa)pa.init_delay=oa;this.logEvent(x.PLAYER_LOADED,pa);};na.prototype.resetPositions=function(){"use strict";this.$VideoPlayerControllerf=null;this.$VideoPlayerControllerg=null;};na.prototype.getCurrentTimePosition=function(){"use strict";return this.$VideoPlayerControllerf;};na.prototype.$VideoPlayerControllerv=function(){"use strict";r.registerChainingInfos(this.getVideoID(),this.$VideoPlayerControllerc);};na.prototype.$VideoPlayerControllerF=function(oa){"use strict";var pa=oa&&('playing_live' in oa)&&oa.playing_live;if(pa==this.$VideoPlayerController9)return;if(pa){this.logEvent(x.PLAYING_LIVE_STARTED);}else this.logEvent(x.PLAYING_LIVE_STOPPED);this.$VideoPlayerController9=pa;j.conditionClass(this.$VideoPlayerController7,"_2vq_",this.$VideoPlayerController9);};na.prototype.$VideoPlayerControllerG=function(oa){"use strict";this.$VideoPlayerControllerF(oa);var pa=oa.position;this.$VideoPlayerControllerk=false;if(pa!==(void 0))this.$VideoPlayerControllerg=pa;this.setState('playing');};na.prototype.$VideoPlayerControllerH=function(oa){"use strict";this.$VideoPlayerControllerF(oa);var pa=oa.position;if(pa!==(void 0))this.$VideoPlayerControllerf=pa;};na.prototype.$VideoPlayerControllerI=function(oa){"use strict";var event=oa.event;delete oa.event;this.logEvent(event,oa);};na.prototype.$VideoPlayerControllerJ=function(){"use strict";this.$VideoPlayerControllerF({});this.resetPositions();if(!this.isState('finished'))this.setState('paused');};na.prototype.$VideoPlayerControllerK=function(){"use strict";this.$VideoPlayerControllerF({});this.resetPositions();this.setState('finished');};na.prototype.getVideosCount=function(){"use strict";return this.$VideoPlayerControllerb.length;};na.prototype.$VideoPlayerControllerL=function(){"use strict";var oa=this.getVideosCount();return (this.$VideoPlayerController0+1)%oa;};na.prototype.getVolume=function(){"use strict";return this.getVideoAPI().getVolume();};na.prototype.$VideoPlayerControllerM=function(){"use strict";var oa=this.isFullscreen();j.conditionClass(this.$VideoPlayerController7,"_5gr8",oa);j.conditionClass(this.$VideoPlayerController7,"_52fb",oa);if(!oa&&this.$VideoPlayerControllerN){this.$VideoPlayerControllerN.unsubscribe();this.$VideoPlayerControllerN=null;}if(this.$VideoPlayerControllerO!=oa){this.logEvent(oa?x.ENTERED_FS:x.EXITED_FS);this.emit('toggleFullscreen');}this.$VideoPlayerControllerO=oa;};na.prototype.isFullscreen=function(){"use strict";return m.isFullScreen()&&this.$VideoPlayerController7===m.getFullScreenElement();};na.prototype.toggleFullscreen=function(){"use strict";if(m.toggleFullScreen(this.$VideoPlayerController7)){j.addClass(this.$VideoPlayerController7,"_5gr8");this.$VideoPlayerControllerN=m.subscribe('changed',this.$VideoPlayerControllerM.bind(this));}};na.prototype.$VideoPlayerControllerP=function(){"use strict";var oa=this.getVideosCount();return (this.$VideoPlayerController0-1+oa)%oa;};na.prototype.$VideoPlayerControllerQ=function(oa){"use strict";this.logEvent(x.CAROUSEL_CHANGE,{source_index:this.$VideoPlayerController0,target_index:oa});this.getVideoAPI().switchVideo(oa);this.$VideoPlayerController0=oa;this.emit('switchVideo');};na.prototype.unmute=function(){"use strict";if(!this.isState('loading')){this.getVideoAPI().unmute();}else this.$VideoPlayerControllerE=true;};na.prototype.isMuted=function(){"use strict";return this.getVideoAPI().isMuted();};na.prototype.mute=function(){"use strict";this.getVideoAPI().mute();};na.prototype.getPlaybackDuration=function(){"use strict";return this.getVideoAPI().getPlaybackDuration();};na.prototype.getPlaybackPosition=function(){"use strict";return this.$VideoPlayerControllerf||0;};na.prototype.nextVideo=function(){"use strict";this.$VideoPlayerControllerQ(this.$VideoPlayerControllerL());};na.prototype.previousVideo=function(){"use strict";this.$VideoPlayerControllerQ(this.$VideoPlayerControllerP());};na.prototype.getVideoIndex=function(){"use strict";return this.$VideoPlayerController0;};na.prototype.getVideoID=function(){"use strict";return this.$VideoPlayerControllerb[this.getVideoIndex()];};na.prototype.$VideoPlayerControllerD=function(){"use strict";var oa=this.$VideoPlayerControllerB;this.$VideoPlayerControllerR=new p();var pa=[['buffered',function(){return this.setBuffering(false);}.bind(this)],['buffering',function(){return this.setBuffering(true);}.bind(this)],['beginPlayback',function(ra){return this.$VideoPlayerControllerG(ra);}.bind(this)],['updateStatus',function(ra){return this.$VideoPlayerControllerH(ra);}.bind(this)],['logEvent',function(ra){return this.$VideoPlayerControllerI(ra.logData);}.bind(this)],['pausePlayback',function(){return this.$VideoPlayerControllerJ();}.bind(this)],['clickForTracking',function(){return ka(this.getVideoNode());}.bind(this)],['error',function(ra){return this.$VideoPlayerControllert(ra.error,ra.message,ra.isPlayback);}.bind(this)],['finishPlayback',function(){return this.$VideoPlayerControllerK();}.bind(this)]],qa=function(event){return this.emit.bind(this,event);}.bind(this);this.$VideoPlayerControllerR.addSubscriptions.apply(this.$VideoPlayerControllerR,pa.map(function(ra){return oa.addListener.apply(oa,ra);}).concat(s.map(function(event){return oa.addListener(event,qa(event));})));};na.prototype.$VideoPlayerControllerA=function(){"use strict";if(this.$VideoPlayerControllerR)this.$VideoPlayerControllerR.release();};na.prototype.seek=function(oa){"use strict";this.getVideoAPI().seek(oa);};na.prototype.pause=function(oa){"use strict";if(this.isState('loading')){this.$VideoPlayerControllery=null;}else if(this.isState('playing')){this.getVideoAPI().pause(oa);}else if(this.isState('ready'))this.getVideoAPI().pause(oa);this.cancelPlayRequest();};na.prototype.isPlayerVersion=function(oa){"use strict";return this.$VideoPlayerController4===oa;};na.prototype.isAutoplayable=function(){"use strict";return this.$VideoPlayerController1;};na.prototype.isBuffering=function(){"use strict";return this.$VideoPlayerController8;};na.prototype.setBuffering=function(oa){"use strict";if(oa!==this.$VideoPlayerController8){this.$VideoPlayerController8=oa;if(this.$VideoPlayerController8){this.$VideoPlayerControlleri.startBuffering();}else this.$VideoPlayerControlleri.endBuffering();}};na.prototype.setVolume=function(oa){"use strict";this.getVideoAPI().setVolume(oa);};na.prototype.getDOMPosition=function(){"use strict";return ia(this.getRootNode());};na.prototype.$VideoPlayerControllerS=function(){"use strict";var oa=this.getDOMPosition(),pa=i.getViewportDimensions().height,qa=null;if(oa.y<=0){qa=oa.y;}else if(oa.y+oa.height<pa){qa=0;}else qa=oa.y+oa.height-pa;return {viewport_distance:qa,unit_height:oa.height};};na.prototype.$VideoPlayerControllerT=function(){"use strict";var oa=l.getVersion();if(oa)oa=oa.join('.');return Object.assign(Object.assign({},this.$VideoPlayerControllerS(),{ad_client_token:this.$VideoPlayerController3,autoplay_eligible:this.isAutoplayable(),autoplay_setting:this.$VideoPlayerController2,player_version:this.$VideoPlayerController4,flash_version:oa,video_id:this.getVideoID(),player_state:this.$VideoPlayerControllerU,video_time_position:this.$VideoPlayerControllerf||0,fbcdn_pop:this.$VideoPlayerControllerh},r.getLoggingData()),this.$VideoPlayerControllerd.get());};na.prototype.$VideoPlayerControllerC=function(){"use strict";var oa=this.$VideoPlayerControllerV();if(!oa)return null;var pa=oa.resourceUrl,qa=/scontent-([a-z]+)\./.exec(pa);if(!qa)return null;return qa[1];};na.prototype.$VideoPlayerControllerV=function(){"use strict";if(this.isState('loading')||this.isState('fallback'))return null;return this.getVideoAPI().getVideoInfo();};na.prototype.getDebugInfo=function(){"use strict";var oa=this.$VideoPlayerControllerV(),pa={initializationTime:this.$VideoPlayerControllerj,version:this.$VideoPlayerController4,stallTime:this.$VideoPlayerControlleri.getCurrentStallTime(),state:this.$VideoPlayerControllerU},qa={videoID:this.getVideoID()};if(!oa)return {player:pa,currentVideo:qa};return {currentVideo:Object.assign({},qa,{isHLS:oa.isHLS,isHD:oa.isHD,hasHD:oa.hasHD,resourceUrl:oa.resourceUrl,hasSubtitles:!!(oa.subtitles&&oa.subtitles.length),hasRateLimit:!!oa.hasUnlimitedSrc,isRateLimited:oa.hasUnlimitedSrc&&!oa.useUnlimitedSrc,tagHD:oa.tagHD,tagSD:oa.tagSD}),player:pa};};na.prototype.hasSubtitles=function(){"use strict";return this.getVideoAPI().hasSubtitles();};na.prototype.areSubtitlesActive=function(){"use strict";return this.getVideoAPI().areSubtitlesActive();};na.prototype.toggleSubtitles=function(){"use strict";this.getVideoAPI().toggleSubtitles();};na.prototype.isHD=function(){"use strict";return this.getVideoAPI().isHD();};na.prototype.hasHD=function(){"use strict";return this.getVideoAPI().hasHD();};na.prototype.toggleHD=function(){"use strict";this.getVideoAPI().toggleHD();};na.prototype.$VideoPlayerControllerx=function(oa){"use strict";var pa=this.$VideoPlayerControllerV();if(pa!=null)return Object.assign({resource_url:pa.resourceUrl,hls:pa.isHLS,hd:pa.isHD},oa);return oa;};na.prototype.logEvent=function(event,oa){"use strict";var pa=Object.assign(this.$VideoPlayerControllerT(),oa),qa=this.getOriginalPlayReason();if(qa&&event!==x.DISPLAYED)pa.video_play_reason=qa;this.$VideoPlayerControlleri.logEvent(event,pa);};na.prototype.setState=function(oa){"use strict";if(this.isState('fallback'))return;this.$VideoPlayerControllerU=oa;if(this.$VideoPlayerControllerU==='fallback'){j.addClass(this.getRootNode(),"_3-n5");this.$VideoPlayerControllerA();}this.emit('stateChange');};na.prototype.isState=function(oa){"use strict";return this.$VideoPlayerControllerU===oa;};na.prototype.preload=function(){"use strict";if(this.isState('loading')||this.isState('fallback'))return;this.getVideoAPI().preload();};na.playerStates=['finished','loading','paused','playing','ready','fallback'];e.exports=na;},null);
__d("VideoCover",["CSS","EventListener","VideoPlayerReason","invariant"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();function k(l,m,n){"use strict";j(n.length===l.getVideosCount());this.$VideoCover0=m;this.$VideoCover1=n;this.$VideoCover2=l;l.addListener('beginPlayback',this.$VideoCover3.bind(this));l.addListener('finishPlayback',this.$VideoCover4.bind(this));l.addListener('switchVideo',this.$VideoCover5.bind(this));h.listen(this.$VideoCover0,'click',function(){return this.$VideoCover2.play(i.USER);}.bind(this));}k.prototype.getCurrentCover=function(){"use strict";return this.$VideoCover1[this.$VideoCover2.getVideoIndex()];};k.prototype.$VideoCover3=function(){"use strict";g.hide(this.$VideoCover0);};k.prototype.$VideoCover4=function(){"use strict";g.show(this.$VideoCover0);};k.prototype.$VideoCover5=function(){"use strict";this.$VideoCover1.forEach(function(l){return g.hide(l);});g.show(this.getCurrentCover());};e.exports=k;},null);